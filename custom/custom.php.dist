<?php
/**
 * Site-specific custom functions loader.
 * Loaded by functions.php. All custom PHP modules must be required here.
 *
 * SETUP: Copy this file to custom.php on each deployment:
 *   cp custom/custom.php.dist custom/custom.php
 *
 * custom.php is gitignored â€” it will not be overwritten by theme updates.
 *
 * @package Blaze_Commerce
 * @since 1.0.0
 */

if ( ! defined( 'ABSPATH' ) ) {
	exit;
}

// === Assets (auto-enqueue non-empty CSS/JS) ===
add_action( 'wp_enqueue_scripts', function () {
	$dir = BLAZE_BLOCKSY_PATH . '/custom';
	$uri = BLAZE_BLOCKSY_URL . '/custom';

	if ( file_exists( "$dir/custom.css" ) && filesize( "$dir/custom.css" ) > 0 ) {
		wp_enqueue_style( 'blaze-custom', "$uri/custom.css", [], filemtime( "$dir/custom.css" ) );
	}
	if ( file_exists( "$dir/custom.js" ) && filesize( "$dir/custom.js" ) > 0 ) {
		wp_enqueue_script( 'blaze-custom', "$uri/custom.js", [ 'jquery' ], filemtime( "$dir/custom.js" ), true );
	}
} );

// === PHP Modules (uncomment per deployment as needed) ===
// require_once __DIR__ . '/block-currency-visibility.php';
// require_once __DIR__ . '/global-block-config.php';
