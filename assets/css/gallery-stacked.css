/**
 * Gallery Stacked Styles
 * 
 * Desktop: All images stacked vertically with thumbnails on left
 * Mobile: Keep parent theme flexy slider behavior
 * 
 * @package Blocksy_Child
 * @category Styles
 */

/* ============================================
   DESKTOP STYLES (â‰¥1024px)
   ============================================ */

@media (min-width: 1024px) {
    
    /* ----------------------------------------
       Main Images Container - Stacked Layout
       ---------------------------------------- */
    
    .ct-has-stacked-gallery .woocommerce-product-gallery .flexy-items {
        display: flex !important;
        flex-direction: column !important;
        gap: 18px !important;
        transform: none !important;
        will-change: auto !important;
        flex-wrap: nowrap !important;
    }
    
    .ct-has-stacked-gallery .woocommerce-product-gallery .flexy-items > * {
        flex: 0 0 auto !important;
        width: 100% !important;
        max-width: 100% !important;
        transform: none !important;
        height: auto !important;
        opacity: 1 !important;
        order: initial !important;
    }
    
    /* Remove height restriction on hidden items */
    .ct-has-stacked-gallery .woocommerce-product-gallery .flexy-items > *:not(.flexy-item-is-visible) {
        height: auto !important;
    }
    
    /* ----------------------------------------
       Flexy View Container
       ---------------------------------------- */
    
    .ct-has-stacked-gallery .woocommerce-product-gallery .flexy-view {
        height: auto !important;
        overflow: visible !important;
    }
    
    .ct-has-stacked-gallery .woocommerce-product-gallery .flexy-view[data-flexy-view='boxed'] {
        overflow: visible !important;
    }
    
    /* ----------------------------------------
       Thumbnails - Left Side Vertical
       ---------------------------------------- */
    
    .ct-has-stacked-gallery .woocommerce-product-gallery.thumbs-left .flexy-pills {
        position: absolute;
        left: 0;
        top: 0;
        height: auto;
        --thumbs-width: 120px;
        --pills-direction: column;
    }
    
    .ct-has-stacked-gallery .woocommerce-product-gallery.thumbs-left .flexy-pills ol {
        display: flex;
        flex-direction: column;
        flex-wrap: nowrap;
        overflow: visible !important;
        height: auto !important;
    }
    
    .ct-has-stacked-gallery .woocommerce-product-gallery.thumbs-left .flexy-pills [data-flexy] {
        overflow: visible !important;
        height: auto !important;
        max-height: none !important;
    }
    
    .ct-has-stacked-gallery .woocommerce-product-gallery.thumbs-left .flexy-pills li {
        width: 120px;
        flex: 0 0 120px;
        cursor: pointer;
    }
    
    /* ----------------------------------------
       Main Images - Offset for Thumbnails
       ---------------------------------------- */
    
    .ct-has-stacked-gallery .woocommerce-product-gallery.thumbs-left .flexy {
        margin-left: calc(120px + var(--thumbs-spacing, 15px));
    }
    
    /* ----------------------------------------
       Hide Slider Arrows
       ---------------------------------------- */
    
    .ct-has-stacked-gallery .woocommerce-product-gallery .flexy .flexy-arrow-prev,
    .ct-has-stacked-gallery .woocommerce-product-gallery .flexy .flexy-arrow-next {
        display: none !important;
    }
    
    .ct-has-stacked-gallery .woocommerce-product-gallery .flexy-pills .flexy-arrow-prev,
    .ct-has-stacked-gallery .woocommerce-product-gallery .flexy-pills .flexy-arrow-next {
        display: none !important;
    }
    
    /* ----------------------------------------
       Thumbnail Active State
       ---------------------------------------- */
    
    .ct-has-stacked-gallery .woocommerce-product-gallery .flexy-pills li.active .ct-media-container:after {
        border-color: rgba(0, 0, 0, 0.2);
    }
    
    /* ----------------------------------------
       Accessibility - Focus States
       ---------------------------------------- */
    
    .ct-has-stacked-gallery .woocommerce-product-gallery .flexy-pills li:focus {
        outline: 2px solid var(--theme-palette-color-1, #3366ff);
        outline-offset: 2px;
    }
    
    .ct-has-stacked-gallery .woocommerce-product-gallery .flexy-pills li:focus-visible {
        outline: 2px solid var(--theme-palette-color-1, #3366ff);
        outline-offset: 2px;
    }
    
    /* ----------------------------------------
       Ensure Images Display Properly
       ---------------------------------------- */
    
    .ct-has-stacked-gallery .woocommerce-product-gallery .flexy-item {
        display: block !important;
        min-height: auto !important;
    }
    
    .ct-has-stacked-gallery .woocommerce-product-gallery .ct-media-container {
        display: flex;
        width: 100%;
    }
    
}

/* ============================================
   MOBILE STYLES (<1024px)
   ============================================ */

@media (max-width: 1023px) {
    /* 
     * No custom styles needed for mobile
     * Parent theme flexy slider behavior is maintained
     */
}

/* ============================================
   DEBUG STYLES (Uncomment for debugging)
   ============================================ */

/*
@media (min-width: 1024px) {
    .ct-has-stacked-gallery .flexy-items > * {
        outline: 2px solid red !important;
    }
    
    .ct-has-stacked-gallery .flexy-pills li {
        outline: 2px solid blue !important;
    }
    
    .ct-has-stacked-gallery .flexy-pills li.active {
        outline: 2px solid green !important;
    }
}
*/

