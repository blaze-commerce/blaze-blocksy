#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

# Pre-commit hook for comprehensive quality standards
# Integrates with ALWAYS-comprehensive-code-review-standards.md

echo "🔍 Running pre-commit quality checks..."
echo "📖 Reference: .augment/rules/ALWAYS-comprehensive-code-review-standards.md"

# Run comprehensive pre-commit quality check
npm run quality:pre-commit

# Check exit code
if [ $? -ne 0 ]; then
    echo ""
    echo "❌ Pre-commit quality checks failed"
    echo "💡 Fix the issues above or use EMERGENCY_BYPASS=true for critical fixes"
    echo "🔧 Example: EMERGENCY_BYPASS=true git commit -m 'emergency fix'"
    echo ""
    exit 1
fi

echo "✅ Pre-commit quality checks passed"
