#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

# Pre-commit hook for comprehensive quality standards
# Integrates with ALWAYS-comprehensive-code-review-standards.md

echo "ğŸ” Running pre-commit quality checks..."
echo "ğŸ“– Reference: .augment/rules/ALWAYS-comprehensive-code-review-standards.md"

# Run comprehensive pre-commit quality check
npm run quality:pre-commit

# Check exit code
if [ $? -ne 0 ]; then
    echo ""
    echo "âŒ Pre-commit quality checks failed"
    echo "ğŸ’¡ Fix the issues above or use EMERGENCY_BYPASS=true for critical fixes"
    echo "ğŸ”§ Example: EMERGENCY_BYPASS=true git commit -m 'emergency fix'"
    echo ""
    exit 1
fi

echo "âœ… Pre-commit quality checks passed"
